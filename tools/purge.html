<style>
    .tool-wrapper { background: var(--bg-card); border-radius: 16px; padding: 24px; border: 1px solid var(--border); box-shadow: 0 10px 15px -3px rgba(0,0,0,0.05); }
    .tool-header { margin-bottom: 20px; border-bottom: 1px solid var(--border); padding-bottom: 15px; }
    .tool-header h3 { margin: 0; color: var(--primary); font-size: 20px; }
    .tool-header p { margin: 5px 0 0; color: var(--text-muted); font-size: 13px; }

    textarea { width: 100%; height: 250px; padding: 20px; border: 1px solid var(--border); border-radius: 12px; font-family: 'Inter', sans-serif; font-size: 15px; background: #fdfdfd; resize: vertical; outline: none; transition: 0.2s; }
    textarea:focus { border-color: var(--accent); background: white; }

    .result-stats { display: flex; gap: 15px; margin-top: 20px; }
    .stat-pill { background: var(--bg-site); padding: 10px 20px; border-radius: 10px; border: 1px solid var(--border); flex: 1; text-align: center; }
    .stat-pill small { display: block; font-size: 10px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px; }
    .stat-pill span { font-size: 18px; font-weight: 700; color: var(--primary); }
    .stat-pill.savings span { color: var(--success); }

    .action-row { display: flex; gap: 15px; margin-top: 20px; }
    .primary-btn { flex: 2; background: var(--primary); color: white; border: none; padding: 15px; border-radius: 10px; font-weight: 700; cursor: pointer; transition: 0.2s; }
    .primary-btn:hover { background: var(--accent); }
    .copy-btn { flex: 1; background: white; border: 1px solid var(--border); color: var(--text-main); border-radius: 10px; font-weight: 600; cursor: pointer; }
    .copy-btn:hover { border-color: var(--accent); color: var(--accent); }
</style>

<div class="tool-wrapper">
    <div class="tool-header">
        <h3>ListPurge | Smart Scrubber</h3>
        <p>Advanced duplicate removal for marketing lists and high-volume data sets.</p>
    </div>

    <textarea id="purgeInput" placeholder="Paste your list here (one item per line)..."></textarea>

    <div class="result-stats">
        <div class="stat-pill">
            <small>Original Count</small>
            <span id="origCount">0</span>
        </div>
        <div class="stat-pill">
            <small>Unique Items</small>
            <span id="uniqCount">0</span>
        </div>
        <div class="stat-pill savings">
            <small>Scrubbed Out</small>
            <span id="removedCount">0</span>
        </div>
    </div>

    <div class="action-row">
        <button class="primary-btn" onclick="scrubList()">ðŸš€ Scrub List Now</button>
        <button class="copy-btn" onclick="copyPurged()">ðŸ“‹ Copy Result</button>
    </div>
</div>

<script>
    function scrubList() {
        const input = document.getElementById('purgeInput');
        const rawText = input.value;
        if (!rawText.trim()) return;

        const lines = rawText.split('\n').map(line => line.trim()).filter(line => line.length > 0);
        const uniqueLines = [...new Set(lines)];

        input.value = uniqueLines.join('\n');
        
        // Update Scrub Report Stats
        document.getElementById('origCount').innerText = lines.length;
        document.getElementById('uniqCount').innerText = uniqueLines.length;
        document.getElementById('removedCount').innerText = lines.length - uniqueLines.length;
    }

    function copyPurged() {
        const input = document.getElementById('purgeInput');
        if (!input.value.trim()) return;
        input.select();
        document.execCommand('copy');
        alert('Cleaned list copied to clipboard!');
    }
</script>
